<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-time View Counter</title>
    <!-- Include the Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-firestore.js"></script>
</head>
<!-- <body>
    <h1>Real-time View Counter</h1>
    <p>View Count: <span id="viewCount">Loading...</span></p>

    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {

apiKey: "AIzaSyAm29VeiasduE8r3Hi5R6NCYCLrB21ux7E",

authDomain: "mushfik-yeasir-portfolio.firebaseapp.com",

databaseURL: "https://mushfik-yeasir-portfolio-default-rtdb.firebaseio.com",

projectId: "mushfik-yeasir-portfolio",

storageBucket: "mushfik-yeasir-portfolio.appspot.com",

messagingSenderId: "711243552946",

appId: "1:711243552946:web:7f9850708e56203fc9d1ab"

};


        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Initialize Firestore
        var db = firebase.firestore();

        // Reference to the Firestore document
        var viewCountRef = db.collection("viewCounts").doc("pageViews");

        // Listen for changes in the document
        viewCountRef.onSnapshot(function(doc) {
            if (doc.exists) {
                var data = doc.data();
                var viewCount = data.viewCount || 0; // Default to 0 if the field doesn't exist
                document.getElementById("viewCount").textContent = viewCount;
            } else {
                console.log("No such document!");
            }
        });

        // Function to increment the view count (e.g., called when a user views the content)
        function incrementViewCount() {
            viewCountRef.set({
                viewCount: firebase.firestore.FieldValue.increment(1)
            }, { merge: true });
        }

        // Call this function whenever you want to increment the view count
        // For example, call it when the page is loaded
        incrementViewCount();
    </script>
</body> -->


<body>

    <!-- Reset Cookies -->
      
    <!--
    
    <input type="button" onclick="DeleteCookie('count')" value="Reset Cookies"/>
    
    -->
    
    <!-- ============= -->
    
    
    <!-- Visitor counter - Main code -->
    <script LANGUAGE="JavaScript">
    
    function GetCookie (name) 
    {  
    var arg = name + "=";  
    var alen = arg.length;  
    var clen = document.cookie.length;  
    var i = 0;  
    while (i < clen) {
    var j = i + alen;    
    if (document.cookie.substring(i, j) == arg)      
    return getCookieVal (j);    
    i = document.cookie.indexOf(" ", i) + 1;    
    if (i == 0) break;   
    }  
    return null;
    }
    
    function SetCookie (name, value) 
    {  
    var argv = SetCookie.arguments;  
    var argc = SetCookie.arguments.length;  
    var expires = (argc > 2) ? argv[2] : null;  
    var path = (argc > 3) ? argv[3] : null;  
    var domain = (argc > 4) ? argv[4] : null;  
    var secure = (argc > 5) ? argv[5] : false;  
    document.cookie = name + "=" + escape (value) + 
    ((expires == null) ? "" : ("; expires=" + expires.toGMTString())) + 
    ((path == null) ? "" : ("; path=" + path)) +  
    ((domain == null) ? "" : ("; domain=" + domain)) +    
    ((secure == true) ? "; secure" : "");
    }
    
    function DeleteCookie (name) 
    {  
    var exp = new Date();  
    exp.setTime (exp.getTime() - 1);   
    var cval = GetCookie (name);  
    document.cookie = name + "=" + cval + "; expires=" + exp.toGMTString();
    }
    
    var expDays = 30;
    var exp = new Date(); 
    exp.setTime(exp.getTime() + (expDays*24*60*60*1000));
    
    function UserCounterFunction()
    {
    var count = GetCookie('count')
    if(count == null) {
    
    SetCookie('count','1')
    return 1
    
    }
    
    else 
    {
    var newcount = parseInt(count) + 1;
    DeleteCookie('count')
    SetCookie('count',newcount,exp)
    return count
    }
    
    }
    
    function getCookieVal(offset) 
    {
    var endstr = document.cookie.indexOf (";", offset);
    if (endstr == -1)
    endstr = document.cookie.length;
    return unescape(document.cookie.substring(offset, endstr));
    }
    
    </script>
    <!-- ============= --> 
      
      
      
      
    <!-- set TEXT & call to "Visitor counter" (content)  -->
    <script LANGUAGE="JavaScript">
    var FlyAnimationVAR = " <p style = 'position:absolute; padding-bottom:0px; padding-left:75px; color:#007cc9; animation:FlyAnimation 2s infinite ease-in-out; ' >  ";
    var CssStyleInsideJavaVAR = " <p style = 'position:absolute; padding-top:3px; font-size:13px; color:#424242; text-shadow:0 1px #737373; font-family:Helvetica; ' >";
    document.write(CssStyleInsideJavaVAR + "Total Online: " + "<b>" + FlyAnimationVAR + UserCounterFunction() )
    </script>
    <!-- ======  -->
     
      
      
    <style>
      
    /* FlyAnimation - keyframes */
    @keyframes FlyAnimation {
     0%,
     50% {
      transform:translateY(0);
      animation-timing-function:cubic-bezier(.2,.25,.55,1)
     }
     25% {
      transform:translateY(-1px);
      animation-timing-function:cubic-bezier(.45,0,.8,.75)
     }
     75% {
      transform:translateY(1px);
      animation-timing-function:cubic-bezier(.45,0,.8,.75)
     }
     to {
      transform:translateY(0)
     }
    }
    /* ============ */
      
    </style>
      
      
      
    </body>



</html>
